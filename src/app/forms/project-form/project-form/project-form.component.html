<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button color="medium" (click)="cancel()"><ion-icon name="close-outline"></ion-icon></ion-button>
    </ion-buttons>
    <ion-title *ngIf="!editProject">Projet</ion-title>
    <!-- <ion-title *ngIf="editProject">{{projectResponse.name}}</ion-title> -->
  </ion-toolbar>
  <ion-progress-bar type="indeterminate" *ngIf="showProgressBar"></ion-progress-bar>
</ion-header>


<ion-content class="ion-padding">
  <ion-title *ngIf="editProject">Modifier un projet</ion-title>
  <ion-title *ngIf="!editProject">Créer un projet</ion-title>
  <br><br>

  <form #newProjectForm="ngForm" (ngSubmit)="confirm(newProjectForm)">
    <ion-list>
      <ion-input type="text" name="id" [value]="projectResponse._id" *ngIf="editProject" readonly disabled class="hidden"></ion-input>
      <ion-item>
        <ion-label position="floating">Nom du projet</ion-label>
          <ion-input type="text" placeholder="Project name" [(ngModel)]="name" name="projectName" required #nameInput="ngModel"></ion-input>
        <ion-note *ngIf="nameInput.invalid && nameInput.touched" slot="error">
          Name is required
        </ion-note>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Description</ion-label>
          <ion-input type="text" placeholder="Description" [(ngModel)]="description" name="projectDescription" required #projectInput="ngModel"></ion-input>
        <ion-note *ngIf="projectInput.invalid && projectInput.touched" slot="error">
          Description is required
        </ion-note>
      </ion-item>
      
      <ion-item>
        <ion-label position="floating"> Entreprise</ion-label>
          <ion-input type="text" placeholder="Company" [(ngModel)]="company" name="projectCompany" required #companyInput="ngModel"></ion-input>
        <ion-note *ngIf="companyInput.invalid && companyInput.touched" slot="error">
          Company is required
        </ion-note>
      </ion-item>

      <ion-item>
        <ion-label>Projet actif</ion-label>
        <ion-toggle slot="end" name="projectActive" [(ngModel)]="active"></ion-toggle>
      </ion-item>
  </ion-list>
    
    <ion-button expand="block" id="submitProjectForm" type="submit" [disabled]="newProjectForm.invalid" *ngIf="!editProject">Créer le projet</ion-button>
    <ion-button expand="block" id="submitProjectForm" type="submit" [disabled]="newProjectForm.invalid" *ngIf="editProject">Modifier le projet</ion-button>
  </form>
  <!-- <ion-item>
    <ion-label position="stacked">Your name</ion-label>
    <ion-input [(ngModel)]="name" placeholder="Your name"></ion-input>
  </ion-item> -->
</ion-content>